package info.nightscout.androidaps.plugins.ARG;

public class TestFilter {

	public static void main(String[] args) {

		double[][] aMD ={{9.7407678983452939e-01, -4.5225585915404390e-02, -1.9214301408856754e-02, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00},
				{2.0617302743037729e-02, 9.5448837596173408e-01, -4.8636768765226553e-02, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00},
				{-7.9905475905038843e-03, 4.7228620053328584e-02, 8.8267256020813878e-01, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00},
				{0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, -3.3974154511924382e-01, -7.8578041334182680e-01, 1.0548701131606181e-01, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00},
				{0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 1.1913967369282128e+00, 1.6144170272603271e+00, -1.5976151749950701e-01, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00},
				{0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, -4.4524850606819244e-01, -1.9923885826258930e-01, 9.2417498103065243e-01, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00},
				{-9.1658304821104342e-01, -1.0620012233594520e+00, -5.3682434517169919e-01, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 3.5212481686559699e-01, 3.5298735345192761e-01, -1.9627633026372296e-01, 4.1790850963362214e-02, 3.8662023367670474e-02, -1.3487294360497719e-02, -2.6012200999512036e-03},
				{2.0275925213626220e-01, 2.3492751064557993e-01, 1.1875203558258537e-01, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, -3.5298735345192817e-01, 9.0717280454480898e-01, 6.4781111452421367e-02, -1.2262790002750676e-02, -1.1512948378178962e-02, 3.9956146281464938e-03, 7.7164685347280823e-04},
				{-1.6099858561361088e-01, -1.8654141074778843e-01, -9.4293649074444097e-02, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, -1.9627633026371955e-01, -6.4781111452423837e-02, 8.5843726339150106e-01, 6.1415428554015342e-02, 4.8530928005961434e-02, -1.7830884616247485e-02, -3.3927641806207045e-03},
				{-1.7720099167092249e-02, -2.0531436873322741e-02, -1.0378307399769405e-02, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, -4.1790850963306161e-02, -1.2262790002735512e-02, -6.1415428553941581e-02, 9.4415324517885590e-01, -1.3003391142225421e-01, 2.7191433575868517e-02, 5.9613353537677737e-03},
				{1.8759644193442674e-02, 2.1735908297790096e-02, 1.0987148114351954e-02, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 3.8662023367674825e-02, 1.1512948378173756e-02, 4.8530928005988870e-02, 1.3003391142190265e-01, 8.0261202470694859e-01, 1.6635927281854218e-01, 2.3229448677238088e-02},
				{6.2591934187814025e-03, 7.2522299871934180e-03, 3.6658843024627644e-03, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 1.3487294360445231e-02, 3.9956146281343065e-03, 1.7830884616190916e-02, 2.7191433575169097e-02, -1.6635927282077373e-01, 7.4320784288944874e-01, -1.3188429340154112e-01},
				{-1.2215008637712840e-03, -1.4152950070281489e-03, -7.1540860656382353e-04, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, -2.6012201001588240e-03, -7.7164685353708299e-04, -3.3927641808755055e-03, -5.9613353543944902e-03, 2.3229448679772849e-02, 1.3188429339597124e-01, 9.1114513630062066e-01}};
		
		Matrix aM = new Matrix(aMD);
		
		double[][] bMD = {{1.3368758175606327e-01, 1.0816225290928749e-01},
			{-1.5489744825346707e-01, 2.1935990756292080e-02},
			{7.8298140414085490e-02, -3.8156105475586183e-03},
			{1.1181972238322613e-02, 1.0816225290928749e-01},
			{-4.5729350671135122e-02, 2.1935990756292080e-02},
			{3.7526481734442459e-02, -3.8156105475586183e-03},
			{0.0000000000000000e+00, 5.4849255935664676e+00},
			{0.0000000000000000e+00, -1.2133318563387998e+00},
			{0.0000000000000000e+00, 9.6343180738901302e-01},
			{0.0000000000000000e+00, 1.0603886427074889e-01},
			{0.0000000000000000e+00, -1.1225960676846670e-01},
			{0.0000000000000000e+00, -3.7455645993850130e-02},
			{0.0000000000000000e+00, 7.3095846179341770e-03}};
		
		Matrix bM = new Matrix(bMD);
		
		double[][] cMD = {{0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, -1.0724556533580714e+01, -6.0450687143365380e+00, 1.0179232870708663e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00, 0.0000000000000000e+00}};
		
		Matrix cM = new Matrix(cMD);
		
		double [][] dMD = {{0,0}};
		
		Matrix dM = new Matrix(dMD);
		
		Filter lqg = new Filter(aM,bM,cM,dM);
		
		double[][] uD = {{0}};
		Matrix u = new Matrix(uD);
		
		double[][] inputD = {{1},{1}};
		Matrix input = new Matrix(inputD);
		input.show();
		System.out.println();
		lqg.getAMatrix().show();
		System.out.println();
		lqg.getBMatrix().show();
		System.out.println();
		lqg.getCMatrix().show();
		System.out.println();
		lqg.getDMatrix().show();
		System.out.println();

		for(int ii = 0; ii<100; ++ii){
		
			u = lqg.outputUpdate(input);
			lqg.stateUpdate(input);
			u.show();
			
		}
	}

}
